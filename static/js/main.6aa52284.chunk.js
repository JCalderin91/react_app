(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){},39:function(e,t,a){e.exports=a(57)},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(20),c=a.n(r),i=(a(44),a(29),a(37)),l=a(12),o=a(6),u=a(7),m=a(9),d=a(8),p=a(10),b=a(21),f=a(34),h=a.n(f),E=(a(45),h.a.initializeApp({apiKey:"AIzaSyDgF8qdwPssJD27XNeOVduZ3OQ3whVEhU8",authDomain:"my-web-d6102.firebaseapp.com",databaseURL:"https://my-web-d6102.firebaseio.com",projectId:"my-web-d6102",storageBucket:"my-web-d6102.appspot.com",messagingSenderId:"657463554959",appId:"1:657463554959:web:309e02485642b7467791fa",measurementId:"G-V4X0HHLT33"})),k=a(22),g=a(15),v=(a(53),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).db_ref=E.database().ref(),e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"removeTask",value:function(e){!0===window.confirm("Are you sure delete it?")&&this.db_ref.child("users/"+e).remove()}},{key:"render",value:function(){var e=this.props,t=e.task,a=e.user;return s.a.createElement("div",{className:t.title===a?"message-item right":"message-item left"},s.a.createElement("div",{className:"message-content"},s.a.createElement("h6",{className:"mb-0"},s.a.createElement("b",null,t.title,": ")),s.a.createElement("i",null,t.description),s.a.createElement("p",{title:"Delete",onClick:this.removeTask.bind(this,t.id),className:"delete-btn"},"\xd7"),s.a.createElement("p",{className:"date"},t.created_at)))}}]),t}(n.Component)),O=Object(g.b)(null,function(e){return{toggleTask:function(t){e(function(e){return{type:"TOGGLE_TASK",payload:e}}(t))},readTask:function(t){e(function(e){return{type:"READ_TASK",payload:e}}(t))}}})(v),j=(a(54),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={tasks:[]},e.db_tasks=E.database().ref().child("users"),e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[];this.db_tasks.on("child_added",function(a){if(null!==a.val()&&(t=[].concat(Object(k.a)(t),[{id:a.key,title:a.val().name,description:a.val().email,created_at:a.val().created_at}]),e.setState({tasks:t}),t.length>0)){var n=document.getElementById("messages-container");n.scrollTo(0,n.scrollHeight)}}),this.db_tasks.on("child_removed",function(a){if(null!==a.val()&&(t=t.filter(function(e){return e.id!==a.key}),e.setState({tasks:t}),t.length>0)){var n=document.getElementById("messages-container");n.scrollTo(0,n.scrollHeight)}})}},{key:"render",value:function(){var e=this,t=this.state.tasks.map(function(t){return s.a.createElement(O,{user:e.props.user,key:t.id,task:t})}),a=s.a.createElement("i",null,"Empty messages list");return t.length&&(a=s.a.createElement("div",{id:"messages-container",className:"messages-container"},t)),s.a.createElement(s.a.Fragment,null,a)}}]),t}(n.Component)),y=Object(g.b)(function(e){return{tasks:e.tasks.tasks}},function(e){return{listTask:function(t){e(function(e){return{type:"LIST_TASKS",payload:e}}(t))}}})(j),T=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={title:"",description:""},e.onSubmit=function(t){t.preventDefault();var a=document.getElementById("messages-container"),n=(new Date).toTimeString().split(" ")[0],s={name:e.state.title,email:e.state.description,created_at:n};e.db_tasks.push(s,function(){console.log(s),a.scrollTo(0,a.scrollHeight),console.log("Data has been insert")}),e.setState({description:""})},e.onChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(b.a)({},n,s))},e.db_tasks=E.database().ref().child("users"),e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{className:"py-3",onSubmit:this.onSubmit},s.a.createElement("h5",{className:"custom-color"},s.a.createElement("b",null,"Chat room")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Username"),s.a.createElement("input",{name:"title",type:"text",required:!0,className:"form-control",onChange:this.onChange,value:this.state.title,placeholder:"Your username"})),s.a.createElement(y,{user:this.state.title}),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{name:"description",required:!0,className:"form-control",onChange:this.onChange,value:this.state.description,placeholder:"Message textarea"}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{type:"submit",className:"btn custom-bg px-3"},"\u27a4")))))}}]),t}(n.Component),S=(a(55),function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("section",{className:"container px-sm-5"},s.a.createElement(T,null))}}]),t}(n.Component)),_=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("p",null,"404")}}]),t}(n.Component),w=a(14),N=a(13),A={tasks:[],task:{}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"CREATE_TASK":return Object(N.a)({},e,{tasks:[].concat(Object(k.a)(e.tasks),[{id:e.tasks.length,title:n.title,description:n.description,done:!1}])});case"LIST_TASKS":return Object(N.a)({},e,{tasks:n});case"DELETE_TASK":return Object(N.a)({},e,{tasks:e.tasks.filter(function(e){return e.id!==n})});case"READ_TASK":var s={};return n&&(s=e.tasks.find(function(e){return e.id===n})),Object(N.a)({},e,{task:s});case"TOGGLE_TASK":return Object(N.a)({},e,{tasks:e.tasks.map(function(e){return e.id===n&&(e=Object(N.a)({},e,{done:!e.done})),e})});default:return e}},D=Object(w.b)({tasks:C}),I=Object(w.c)(D);var K=function(){return s.a.createElement(g.a,{store:I},s.a.createElement(i.a,{basename:"/react_app"},s.a.createElement(l.c,null,s.a.createElement(l.a,{exact:!0,path:"/",component:S}),s.a.createElement(l.a,{component:_}))))},L=document.getElementById("app");c.a.render(s.a.createElement(K,null),L)}},[[39,1,2]]]);
//# sourceMappingURL=main.6aa52284.chunk.js.map